starwars <- jsonlite::fromJSON("data/evelinag-star-wars-network-data-04538e0/starwars-episode-4-interactions.json")
starwars
starwars <- jsonlite::fromJSON("data/evelinag-star-wars-network-data-04538e0/starwars-episode-4-interactions.json") |>
as_tibble()
library(tidyverse)
library(here)
library(socviz)
## Make sure these are installed
library(tidygraph)
library(ggraph)
starwars <- jsonlite::fromJSON("data/evelinag-star-wars-network-data-04538e0/starwars-episode-4-interactions.json") |>
as_tibble()
starwars <- jsonlite::fromJSON("data/evelinag-star-wars-network-data-04538e0/starwars-episode-4-interactions.json")
starwars <- jsonlite::fromJSON("data/evelinag-star-wars-network-data-04538e0/starwars-episode-4-interactions.json") |>
as_tbl_graph()
starwars <- jsonlite::fromJSON("data/evelinag-star-wars-network-data-04538e0/starwars-episode-4-interactions.json")
starwars
characters <- starwars$nodes |>
as_tibble()
interactions <- starwars$links |>
as_tibble()
interactions
characters
names(interactions) <- c("to","from","weight")
characters$id <- seq(1:(nrow(characters)))
interactions$to <- interactions$to+1
interactions$from <- interactions$from+1
sw <-tbl_graph(charactersdf,interactionsdf, directed=F)
sw <-tbl_graph(characters, interactions, directed=F)
sw
starwars <- sw
?save
save(starwars, file = "data/starwars.rda")
load(here("data", "starwars"))
load(here("data", "starwars.rda"))
starwars
starwars |>
ggraph(layout = "kk") +
geom_edge_link(color="gray") +
geom_node_point(colour="lightblue", size=3) +
geom_node_text(aes(label=name), repel=T) +
theme_graph()
starwars |>
ggraph(layout = "kk") +
geom_edge_link(color="gray") +
geom_node_point(colour="lightblue", size=3) +
geom_node_text(aes(label=name), repel=T) +
theme_graph()
starwars |>
ggraph(layout = "kk") +
geom_edge_link(color="gray") +
geom_node_point(colour="lightblue", size=3) +
geom_node_text(aes(label=name), repel=T) +
theme_graph()
starwars |>
ggraph(layout = "fr") +
geom_edge_link(color="gray") +
geom_node_point(colour="lightblue", size=3) +
geom_node_text(aes(label=name), repel=T) +
theme_graph()
?ggraph
starwars |>
ggraph(layout = "drl") +
geom_edge_link(color="gray") +
geom_node_point(colour="lightblue", size=3) +
geom_node_text(aes(label=name), repel=T) +
theme_graph()
starwars |>
ggraph(layout = "kk") +
geom_edge_link(color="gray") +
geom_node_point(colour="lightblue", size=3) +
geom_node_text(aes(label=name), repel=T) +
theme_graph()
starwars |>
ggraph(layout = "gem") +
geom_edge_link(color="gray") +
geom_node_point(colour="lightblue", size=3) +
geom_node_text(aes(label=name), repel=T) +
theme_graph()
starwars |>
ggraph(layout = "randomly") +
geom_edge_link(color="gray") +
geom_node_point(colour="lightblue", size=3) +
geom_node_text(aes(label=name), repel=T) +
theme_graph()
starwars |>
ggraph(layout = "circle") +
geom_edge_link(color="gray") +
geom_node_point(colour="lightblue", size=3) +
geom_node_text(aes(label=name), repel=T) +
theme_graph()
starwars |>
ggraph(layout = "grid") +
geom_edge_link(color="gray") +
geom_node_point(colour="lightblue", size=3) +
geom_node_text(aes(label=name), repel=T) +
theme_graph()
starwars
starwars |>
activate(nodes) |>
mutate(btwn = centrality_betweenness(),
deg = centrality_degree(),
pow = centrality_power()) |>
as_tibble()
starwars |>
activate(nodes) |>
mutate(btwn = centrality_betweenness(),
deg = centrality_degree(),
pow = centrality_alpha())
starwars |>
activate(nodes) |>
mutate(btwn = centrality_betweenness(),
deg = centrality_degree(),
alpha = centrality_alpha())
